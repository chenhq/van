html
  body
    div(ng-controller='histogram', ng-init='init()', style='min-height:{{panel.height || row.height}}')
      style.
        .histogram-legend {
        display:inline-block;
        padding-right:5px
        }
        .histogram-legend-dot {
        display:inline-block;
        height:10px;
        width:10px;
        border-radius:5px;
        }
        .histogram-legend-item {
        display:inline-block;
        }
        .histogram-chart {
        position:relative;
        }
        .histogram-options {
        padding: 5px;
        margin-right: 15px;
        margin-bottom: 0px;
        }
        .histogram-options label {
        margin: 0px 0px 0px 10px !important;
        }
        .histogram-options span {
        white-space: nowrap;
        }
        /* this is actually should be in bootstrap */
        .form-inline .checkbox {
        display: inline-block;
        }
        .histogram-marker {
        display: block;
        width: 20px;
        height: 21px;
        background-image: url('img/annotation-icon.png');
        background-repeat: no-repeat;
        }
      div
        span(ng-show='panel.options')
          a.link.small(ng-show='panel.options', ng-click='options=!options')
            | View 
            i.fa.fa-caret-right(ng-show='!options')
            i.fa.fa-caret-down(ng-show='options')
          | &nbsp;|&nbsp;
        span(ng-show='panel.zoomlinks')
          // <a class='small' ng-click='zoom(0.5)'><i class='icon-zoom-in'></i> Zoom In</a>
          a.small(ng-click='zoom(2)')
            i.fa.fa-search-minus
            |  Zoom Out
          | &nbsp;|&nbsp;
        span.histogram-legend(ng-show='panel.legend', ng-repeat='series in legend')
          i.icon-circle(ng-style='{color: series.query.color}')
          span.small.histogram-legend-item
            span(ng-if='panel.show_query') {{series.query.alias || series.query.query}}
            span(ng-if='!panel.show_query') {{series.query.alias}}
            span(ng-show='panel.legend_counts')  ({{series.hits}})
        span.small(ng-show='panel.legend')
          span(ng-show='panel.derivative')  change in 
          span.strong(ng-show="panel.value_field && panel.mode != 'count'") {{panel.value_field}}
          |  {{panel.mode}} per 
          strong(ng-hide='panel.scaleSeconds') {{panel.interval}}
          strong(ng-show='panel.scaleSeconds') 1s
          |  | (
          strong {{hits}}
          |  hits)
      form.form-inline.bordered.histogram-options(ng-show='options')
        span
          .checkbox
            label.small
              input(type='checkbox', ng-model='panel.bars', ng-checked='panel.bars', ng-change='render()')
              |           Bars
          .checkbox
            label.small
              input(type='checkbox', ng-model='panel.lines', ng-checked='panel.lines', ng-change='render()')
              |           Lines
          .checkbox
            label.small
              input(type='checkbox', ng-model='panel.stack', ng-checked='panel.stack', ng-change='render()')
              |           Stack
        span(ng-show='panel.stack')
          .checkbox
            label.small(style='white-space:nowrap')
              input(type='checkbox', ng-model='panel.percentage', ng-checked='panel.percentage', ng-change='render()')
              |           Percent
        span
          .checkbox
            label.small
              input(type='checkbox', ng-model='panel.legend', ng-checked='panel.legend', ng-change='render()')
              |           Legend
        span
          label.small Interval
          select.input-small(ng-change='set_interval(panel.interval);get_data();', ng-model='panel.interval', ng-options='interval_label(time) for time in _.union([panel.interval],panel.intervals)')
      center
        img(ng-show='panel.loading', src='img/load_big.gif')
      .pointer.histogram-chart(histogram-chart='', params='{{panel}}')
